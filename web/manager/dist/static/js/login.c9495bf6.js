"use strict";(self["webpackChunkperson_blog_edit"]=self["webpackChunkperson_blog_edit"]||[]).push([[535],{99587:function(e,n,o){o.r(n),o.d(n,{default:function(){return y}});var s=o(73396),a=o(49242);const t=e=>((0,s.dD)("data-v-42b0fd5b"),e=e(),(0,s.Cn)(),e),r={class:"background-image"},i={class:"box"},l=t((()=>(0,s._)("h1",null,"登录",-1))),d={class:"input-box"},u=t((()=>(0,s._)("label",{for:"username"},"Username:",-1))),m=t((()=>(0,s._)("label",{for:"password"},"Password:",-1))),p=t((()=>(0,s._)("button",{type:"submit"},"Log In",-1)));function c(e,n,o,t,c,g){return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",i,[(0,s._)("form",{class:"form",onSubmit:n[2]||(n[2]=(0,a.iM)(((...e)=>t.logins&&t.logins(...e)),["prevent"]))},[l,(0,s._)("div",d,[u,(0,s.wy)((0,s._)("input",{type:"text",id:"username",name:"username","onUpdate:modelValue":n[0]||(n[0]=e=>t.loginForm.name=e),required:""},null,512),[[a.nr,t.loginForm.name]]),m,(0,s.wy)((0,s._)("input",{type:"password",id:"password",name:"password","onUpdate:modelValue":n[1]||(n[1]=e=>t.loginForm.password=e),required:""},null,512),[[a.nr,t.loginForm.password]])]),p],32)])])}var g=o(44870),b=(o(57658),o(77827)),_=o(90108),f=o(47178);const w=e=>{(0,b.L)("post","/api/admin",e).then((e=>{if(e){const n=e.data[0];localStorage.setItem("token",n);const o={isLoggedIn:!0,userData:{}};localStorage.setItem("authData",JSON.stringify(o)),_.Z.push("/main").then((()=>{f.z8.success("登录成功")}))}}))};var v={name:"Login",setup(){const e=(0,g.iH)({name:"",password:""});(0,s.bv)((()=>{w(e)}));const n=()=>{w(e.value)};return{logins:n,loginForm:e}}},h=o(40089);const k=(0,h.Z)(v,[["render",c],["__scopeId","data-v-42b0fd5b"]]);var y=k}}]);