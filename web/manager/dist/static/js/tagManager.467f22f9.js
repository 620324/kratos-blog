"use strict";(self["webpackChunkperson_blog_edit"]=self["webpackChunkperson_blog_edit"]||[]).push([[651],{9890:function(e,t,n){n.d(t,{$J:function(){return r},Cj:function(){return s},ps:function(){return c}});var l=n(77827),a=n(36672),o=n(92100),u=n(47178);const c=e=>(0,l.L)("delete",`/api/deleteTag/${e}`),r=()=>(0,l.L)("get","/api/getAllTag"),s=()=>new Promise(((e,t)=>{(0,a.w)().then((n=>{const a={data:{tagName:n}};(0,l.L)("post","/api/addTag",a).then((n=>{n.common.code===o.cz?(u.z8.success(n.common.result),e(n.common.result)):(u.z8.error(n.common.result),t(n.common.result))}),(e=>{t(e)}))}),(e=>{t(e)}))}))},36672:function(e,t,n){n.d(t,{Q:function(){return u},w:function(){return o}});var l=n(96e3),a=n(47178);const o=()=>{let e;return new Promise((t=>{l.T.prompt("请输入标签","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入标签",inputValidator:t=>{if(!t)return"请输入标签";e=t},type:"success"}).then((()=>{t(e)})).catch((e=>{console.log(e)}))}))},u=()=>new Promise((e=>{l.T.confirm("Are you sure to delete this?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{e()})).catch((()=>{(0,a.z8)({type:"info",message:"Delete canceled"})}))}))},57027:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var l=n(73396);function a(e,t,n,a,o,u){const c=(0,l.up)("el-button"),r=(0,l.up)("el-checkbox"),s=(0,l.up)("el-table-column"),d=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c,{onClick:a.addTag,type:"success",plain:""},{default:(0,l.w5)((()=>[(0,l.Uk)("新增标签")])),_:1},8,["onClick"]),(0,l.Wm)(c,{onClick:a.deleteSomeTag,type:"danger",plain:""},{default:(0,l.w5)((()=>[(0,l.Uk)("批量删除")])),_:1},8,["onClick"]),(0,l.Wm)(d,{data:a.tags,border:"",class:"table",style:{"margin-top":"20px"},lazy:!0,stripe:"",height:"300"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{type:"selection",label:"序号",width:"80"},{default:(0,l.w5)((({row:e})=>[(0,l.Wm)(r,{modelValue:e.selected,"onUpdate:modelValue":t=>e.selected=t,onChange:t=>a.handlePush(e.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])])),_:1}),(0,l.Wm)(s,{label:"标签",prop:"tagName"}),(0,l.Wm)(s,{label:"操作"},{default:(0,l.w5)((({row:e})=>[(0,l.Wm)(c,{type:"danger",plain:"",onClick:t=>a.deleteTag(e.id)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])],64)}n(57658);var o=n(44870),u=n(47178),c=n(9890),r=n(36672),s={name:"tagManager",setup(){const e=(0,o.iH)([]),t=()=>{(0,c.$J)().then((t=>{e.value=t.data}))},n=()=>{(0,c.Cj)().then((()=>{t()}))},a=e=>{(0,r.Q)().then((()=>{(0,c.ps)(e).then((e=>{e&&(u.z8.success("删除成功"),t())}))}))},s=(0,o.iH)([]),d=e=>{if(s.value.includes(e)){let t=s.value.indexOf(e);s.value.splice(t,1)}else s.value.push(e);console.log(s.value)},i=()=>{s.value.forEach((e=>{a(e)}))};return(0,l.bv)((()=>{t()})),{tags:e,addTag:n,deleteTag:a,selectedRows:s,handlePush:d,deleteSomeTag:i}}},d=n(40089);const i=(0,d.Z)(s,[["render",a]]);var p=i}}]);