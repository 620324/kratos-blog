"use strict";(self["webpackChunkperson_blog_edit"]=self["webpackChunkperson_blog_edit"]||[]).push([[955],{62731:function(t,e,a){a.r(e),a.d(e,{default:function(){return f}});var l=a(73396),n=a(49242),o=a(87139);const d={class:"body"};function r(t,e,a,r,u,c){const i=(0,l.up)("el-button"),s=(0,l.up)("el-table-column"),k=(0,l.up)("el-table");return(0,l.wg)(),(0,l.iD)("div",d,[(0,l.wy)((0,l._)("textarea",{"onUpdate:modelValue":e[0]||(e[0]=t=>r.Talk.content=t),class:"textarea-field",placeholder:"说说"},null,512),[[n.nr,r.Talk.content]]),(0,l.Wm)(i,{onClick:r.addTalk,style:{float:"right","margin-bottom":"20px"}},{default:(0,l.w5)((()=>[(0,l.Uk)("保存")])),_:1},8,["onClick"]),(0,l.Wm)(k,{data:r.talkList,class:"table",border:""},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{label:"id",width:"100"},{default:(0,l.w5)((({row:t})=>[(0,l._)("span",null,(0,o.zw)(t.id),1)])),_:1}),(0,l.Wm)(s,{label:"时间",width:"200"},{default:(0,l.w5)((({row:t})=>[(0,l._)("span",null,(0,o.zw)(t.date),1)])),_:1}),(0,l.Wm)(s,{label:"说说",width:"1000"},{default:(0,l.w5)((({row:t})=>[(0,l._)("span",null,(0,o.zw)(t.content),1)])),_:1}),(0,l.Wm)(s,{label:"操作",width:"150"},{default:(0,l.w5)((({row:t})=>[(0,l.Wm)(i,{type:"danger",plain:"",onClick:e=>r.deleteTalk(t.id)},{default:(0,l.w5)((()=>[(0,l.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])}var u=a(44870),c=a(47178),i=a(96e3),s=a(44161),k={name:"talkManager",setup(){const t=(0,u.qj)({content:""}),e=()=>{null!=t.content&&""!==t.content?s.Z.post("/api/addTalk",t).then((t=>{200===t.data.status&&(c.z8.success("OK"),d())})):c.z8.warning("null")},a=(0,u.iH)({key:""}),n=t=>{i.T.prompt("请输入你的安全码","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"请输入安全码",inputValidator:t=>{if(!t)return"请输入安全码";a.value.key=t},type:"warning"}).then((()=>{s.Z.delete(`/api/deleteTalk/${t}/${a.value.key}`).then((t=>{200===t.data.status&&(c.z8.success("ok"),d())})).catch((()=>{c.z8.error("error")}))})).catch((t=>{console.log(t)}))},o=(0,u.iH)([]),d=()=>{s.Z.get("/api/getAllTalk").then((t=>{o.value=t.data.list}))};return(0,l.bv)((()=>{d()})),{addTalk:e,deleteTalk:n,Talk:t,talkList:o,okma:a}}},p=a(40089);const w=(0,p.Z)(k,[["render",r],["__scopeId","data-v-dfe25d88"]]);var f=w}}]);